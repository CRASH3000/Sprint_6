{"name": "Проверка заполнения формы заказа через кнопку \"Заказать\" на главной странице с оформлением заказа в браузере chrome", "status": "failed", "statusDetails": {"message": "AssertionError: Сообщение о подтверждении заказа не найдено", "trace": "self = <test_create_order.TestOrder object at 0x0000024F26AC9EE0>\ndata = {'address': 'Ленинградский проспект, 39, стр. 79', 'first_name': 'Влад', 'last_name': 'Иванов', 'phone': '89001234567', ...}\nclick_order_button_method = 'click_order_button_in_main_page', confirm_order = 'yes'\nrequest = <FixtureRequest for <Function test_order_form[chrome-click_order_button_in_main_page-data0-yes]>>\n\n    @pytest.mark.parametrize(\"confirm_order\", [\"yes\", \"no\"])\n    @pytest.mark.parametrize(\"data\", test_data)\n    @pytest.mark.parametrize(\n        \"click_order_button_method\",\n        [\"click_order_button_in_header\", \"click_order_button_in_main_page\"],\n    )\n    def test_order_form(self, data, click_order_button_method, confirm_order, request):\n    \n        # Словари для сопоставления параметров с текстовыми значениями для названия теста в Allure\n        click_order_button_method_mapping = {\n            \"click_order_button_in_header\": 'через кнопку \"Заказать\" в шапке сайта',\n            \"click_order_button_in_main_page\": 'через кнопку \"Заказать\" на главной странице',\n        }\n    \n        confirm_order_mapping = {\n            \"yes\": \"с оформлением заказа\",\n            \"no\": \"с отменой заказа\",\n        }\n    \n        # Получаем текстовые значения параметров\n        click_order_button_method_text = click_order_button_method_mapping.get(click_order_button_method,\n                                                                               click_order_button_method)\n        confirm_order_text = confirm_order_mapping.get(confirm_order, confirm_order)\n    \n        # Получаем название браузера из параметра driver\n        browser_name = request.node.callspec.params.get(\"driver\", \"unknown\")\n    \n        # Динамически формируем заголовок\n        test_title = (\n            f\"Проверка заполнения формы заказа {click_order_button_method_text} \"\n            f\"{confirm_order_text} в браузере {browser_name}\"\n        )\n        allure.dynamic.title(test_title)\n    \n        click_order_button_func = getattr(self, click_order_button_method)\n        click_order_button_func()\n        self.fill_first_name(data)\n        self.fill_last_name(data)\n        self.fill_address(data)\n        self.fill_phone(data)\n        self.select_metro_station()\n        self.click_next_button()\n        self.fill_rent_date(data)\n        self.select_rent_duration()\n        self.select_scooter_color(data[\"scooter_color\"])\n        self.click_order_button()\n        self.check_order_modal_opened()\n    \n        if confirm_order == \"yes\":\n            self.click_order_modal_yes_button()\n>           self.check_order_confirmation()\n\ntests\\test_create_order.py:202: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntests\\test_create_order.py:135: in check_order_confirmation\n    self.order_page.check_order_confirmation()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.order_page.OrderPage object at 0x0000024F25CC2B10>\n\n    def check_order_confirmation(self):\n        confirmation_message = self.wait.until(\n            EC.visibility_of_element_located(\n                (By.XPATH, \"//div[contains(@class, 'Order_ModalHeader__3FDaJ')]\")\n            )\n        )\n>       assert \"Заказ оформлен\" in confirmation_message.text, \"Сообщение о подтверждении заказа не найдено\"\nE       AssertionError: Сообщение о подтверждении заказа не найдено\n\npages\\order_page.py:129: AssertionError"}, "steps": [{"name": "Клик на кнопку 'Заказать' на главной странице", "status": "passed", "start": 1723300839784, "stop": 1723300850038}, {"name": "Заполнение имени", "status": "passed", "parameters": [{"name": "data", "value": "{'first_name': 'Влад', 'last_name': 'Иванов', 'address': 'Ленинградский проспект, 39, стр. 79', 'phone': '89001234567', 'rent_date': '30.08.2024', 'rent_duration': 'сутки', 'scooter_color': 'black'}"}], "start": 1723300850039, "stop": 1723300850089}, {"name": "Заполнение фамилии", "status": "passed", "parameters": [{"name": "data", "value": "{'first_name': 'Влад', 'last_name': 'Иванов', 'address': 'Ленинградский проспект, 39, стр. 79', 'phone': '89001234567', 'rent_date': '30.08.2024', 'rent_duration': 'сутки', 'scooter_color': 'black'}"}], "start": 1723300850089, "stop": 1723300850136}, {"name": "Заполнение адреса", "status": "passed", "parameters": [{"name": "data", "value": "{'first_name': 'Влад', 'last_name': 'Иванов', 'address': 'Ленинградский проспект, 39, стр. 79', 'phone': '89001234567', 'rent_date': '30.08.2024', 'rent_duration': 'сутки', 'scooter_color': 'black'}"}], "start": 1723300850136, "stop": 1723300850223}, {"name": "Заполнение телефона", "status": "passed", "parameters": [{"name": "data", "value": "{'first_name': 'Влад', 'last_name': 'Иванов', 'address': 'Ленинградский проспект, 39, стр. 79', 'phone': '89001234567', 'rent_date': '30.08.2024', 'rent_duration': 'сутки', 'scooter_color': 'black'}"}], "start": 1723300850223, "stop": 1723300850277}, {"name": "Выбор первой станции метро", "status": "passed", "start": 1723300850277, "stop": 1723300850340}, {"name": "Клик на кнопку 'Далее'", "status": "passed", "start": 1723300850340, "stop": 1723300850366}, {"name": "Заполнение даты аренды", "status": "passed", "parameters": [{"name": "data", "value": "{'first_name': 'Влад', 'last_name': 'Иванов', 'address': 'Ленинградский проспект, 39, стр. 79', 'phone': '89001234567', 'rent_date': '30.08.2024', 'rent_duration': 'сутки', 'scooter_color': 'black'}"}], "start": 1723300850366, "stop": 1723300850426}, {"name": "Выбор срока аренды", "status": "passed", "start": 1723300850426, "stop": 1723300850493}, {"name": "Выбор цвета самоката", "status": "passed", "parameters": [{"name": "color", "value": "'black'"}], "start": 1723300850493, "stop": 1723300850511}, {"name": "Клик по кнопке 'Заказать'", "status": "passed", "start": 1723300850512, "stop": 1723300850538}, {"name": "Проверка открытия окна подтверждения заказа", "status": "passed", "start": 1723300850538, "stop": 1723300850544}, {"name": "Клик по кнопке 'Да' в окне подтверждения", "status": "passed", "start": 1723300850544, "stop": 1723300850561}, {"name": "Проверка, что появилось сообщение 'Заказ оформлен'", "status": "failed", "statusDetails": {"message": "AssertionError: Сообщение о подтверждении заказа не найдено\n", "trace": "  File \"C:\\Users\\crash\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"G:\\PycharmProjects\\YA_Sprint_6\\tests\\test_create_order.py\", line 135, in check_order_confirmation\n    self.order_page.check_order_confirmation()\n  File \"G:\\PycharmProjects\\YA_Sprint_6\\pages\\order_page.py\", line 129, in check_order_confirmation\n    assert \"Заказ оформлен\" in confirmation_message.text, \"Сообщение о подтверждении заказа не найдено\"\n"}, "start": 1723300850561, "stop": 1723300850575}], "parameters": [{"name": "driver", "value": "'chrome'"}, {"name": "click_order_button_method", "value": "'click_order_button_in_main_page'"}, {"name": "data", "value": "{'first_name': 'Влад', 'last_name': 'Иванов', 'address': 'Ленинградский проспект, 39, стр. 79', 'phone': '89001234567', 'rent_date': '30.08.2024', 'rent_duration': 'сутки', 'scooter_color': 'black'}"}, {"name": "confirm_order", "value": "'yes'"}], "start": 1723300839784, "stop": 1723300850575, "uuid": "e2f1e202-841a-4ecf-82c0-b0038685cd24", "historyId": "a5de0d6451e5612150274ec7d1261e50", "testCaseId": "bee7fafb761dd40b1e94a2912d6960a1", "fullName": "tests.test_create_order.TestOrder#test_order_form", "labels": [{"name": "tag", "value": "@pytest.mark.usefixtures('driver')"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_create_order"}, {"name": "subSuite", "value": "TestOrder"}, {"name": "host", "value": "FUN-Spectrum"}, {"name": "thread", "value": "16408-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_create_order"}]}